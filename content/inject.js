// Generated by CoffeeScript 1.10.0
jQuery(document).mouseup(function(event) {
  if (event.which === 1 && window.getSelection().toString()) {
    return chrome.runtime.sendMessage({
      type: 'look up',
      means: 'mouse',
      text: window.getSelection().toString()
    });
  }
});

chrome.runtime.sendMessage({
  type: 'keySettings'
}, function(datas) {
  return jQuery(document).bind('keydown', function(event) {
    var b;
    b = true;
    jQuery.each(datas.specialKeys.split(','), function(i, v) {
      if (!event[v + 'Key']) {
        return b = false;
      }
    });
    if (event.keyCode !== datas.normalKey.charCodeAt(0)) {
      b = false;
    }
    if (b) {
      return chrome.runtime.sendMessage({
        type: 'look up',
        means: 'keyboard',
        text: window.getSelection().toString()
      });
    }
  });
});
